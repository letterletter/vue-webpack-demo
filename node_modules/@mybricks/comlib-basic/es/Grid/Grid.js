!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define(["react"],t):"object"==typeof exports?exports["@mybricks/comlib-basic"]=t(require("react")):e["@mybricks/comlib-basic"]=t(e.react)}(self,(e=>(()=>{"use strict";var t={4988:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,o,i){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(r)for(var s=0;s<this.length;s++){var c=this[s][0];null!=c&&(a[c]=!0)}for(var l=0;l<e.length;l++){var u=[].concat(e[l]);r&&a[u[0]]||(void 0!==i&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=i),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),o&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=o):u[4]="".concat(o)),t.push(u))}},t}},8371:e=>{e.exports=function(e){return e[1]}},4437:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(8371),o=n.n(r),i=n(4988),a=n.n(i)()(o());a.push([e.id,".resizable-d5bfd {\n  position: relative;\n}\n.resizer-r-bd84d {\n  position: absolute;\n  height: 100%;\n  width: 3px;\n  top: 0;\n  right: 0;\n  pointer-events: auto;\n  border-radius: 10px;\n  z-index: 1000;\n  user-select: none;\n}\n.resizer-r-bd84d:hover {\n  cursor: ew-resize !important;\n}\n.resizer-b-a7b5e {\n  position: absolute;\n  width: 100%;\n  height: 3px;\n  left: 0;\n  bottom: 0;\n  pointer-events: auto;\n  border-radius: 10px;\n  z-index: 1000;\n  user-select: none;\n}\n.resizer-b-a7b5e:hover {\n  cursor: ns-resize !important;\n  background-color: rgba(250, 100, 0, 0.8);\n}\n",""]),a.locals={resizable:"resizable-d5bfd","resizer-r":"resizer-r-bd84d","resizer-b":"resizer-b-a7b5e"};const s=a},5469:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(8371),o=n.n(r),i=n(4988),a=n.n(i)()(o());a.push([e.id,".col-c31c1 {\n  flex-shrink: 0;\n  flex-grow: 0;\n  overflow: hidden;\n}\n",""]),a.locals={col:"col-c31c1"};const s=a},9647:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(8371),o=n.n(r),i=n(4988),a=n.n(i)()(o());a.push([e.id,".layout-d480e {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  overflow: auto;\n}\n",""]),a.locals={layout:"layout-d480e"};const s=a},4391:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(8371),o=n.n(r),i=n(4988),a=n.n(i)()(o());a.push([e.id,".row-a96b8 {\n  display: flex;\n  flex-flow: row nowrap;\n  position: relative;\n  align-items: stretch;\n  flex-shrink: 0;\n  flex-grow: 0;\n}\n.row-a96b8:last-child {\n  flex: 1 !important;\n}\n",""]),a.locals={row:"row-a96b8"};const s=a},395:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(8371),o=n.n(r),i=n(4988),a=n.n(i)()(o());a.push([e.id,".resizer-c8959 {\n  width: 2px;\n  right: -1px;\n  background-color: rgba(221, 221, 221, 0.6);\n  z-index: 10;\n  transition: all 0.2s;\n}\n.resizer-c8959:hover {\n  border-radius: 20px;\n  background-color: rgba(221, 221, 221, 0.8);\n  width: 4px;\n  right: -2px;\n}\n",""]),a.locals={resizer:"resizer-c8959"};const s=a},5072:e=>{var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var i={},a=[],s=0;s<e.length;s++){var c=e[s],l=r.base?c[0]+r.base:c[0],u=i[l]||0,d="".concat(l," ").concat(u);i[l]=u+1;var f=n(d),p={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==f)t[f].references++,t[f].updater(p);else{var v=o(p,r);r.byIndex=s,t.splice(s,0,{identifier:d,updater:v,references:1})}a.push(d)}return a}function o(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,o){var i=r(e=e||[],o=o||{});return function(e){e=e||[];for(var a=0;a<i.length;a++){var s=n(i[a]);t[s].references--}for(var c=r(e,o),l=0;l<i.length;l++){var u=n(i[l]);0===t[u].references&&(t[u].updater(),t.splice(u,1))}i=c}}},7659:e=>{var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},540:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},4868:e=>{e.exports=function(e,t){Object.keys(t).forEach((function(n){e.setAttribute(n,t[n])}))}},7825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,o&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var i=n.sourceMap;i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},1113:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},9155:t=>{t.exports=e}},n={};function r(e){var o=n[e];if(void 0!==o)return o.exports;var i=n[e]={id:e,exports:{}};return t[e](i,i.exports,r),i.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o={};return(()=>{r.r(o),r.d(o,{default:()=>q});var e=r(9155),t=r.n(e),n=(0,e.createContext)({}),i=r(5072),a=r.n(i),s=r(7825),c=r.n(s),l=r(7659),u=r.n(l),d=r(4868),f=r.n(d),p=r(540),v=r.n(p),h=r(1113),m=r.n(h),y=r(9647),b={attributes:{title:"less"}};b.styleTagTransform=m(),b.setAttributes=f(),b.insert=u().bind(null,"head"),b.domAPI=c(),b.insertStyleElement=v(),a()(y.A,b);const g=y.A&&y.A.locals?y.A.locals:void 0;const x=function(r){var o=r.className,i=r.children,a=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(r,["className","children"]),s=((0,e.useContext)(n).env,(0,e.useRef)(null)),c=(0,e.useMemo)((function(){var e=[g.layout];return o&&e.push(o),e.join(" ")}),[o]);return t().createElement("div",Object.assign({ref:s,className:c},a),i)};var w=r(4391),O={attributes:{title:"less"}};O.styleTagTransform=m(),O.setAttributes=f(),O.insert=u().bind(null,"head"),O.domAPI=c(),O.insertStyleElement=v(),a()(w.A,O);const A=w.A&&w.A.locals?w.A.locals:void 0;var j;!function(e){e.Px="px",e.Auto="auto",e.Percent="%"}(j||(j={}));const M=function(n){var r=n.row,o=n.className,i=n.children,a=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(n,["row","className","children"]),s=(0,e.useMemo)((function(){var e,t=Object.assign({},null!==(e=r.style)&&void 0!==e?e:{});return r.heightMode===j.Auto&&(t.height=r.heightMode),r.heightMode===j.Px&&(t.height="".concat(parseFloat(r.height),"px")),r.heightMode===j.Percent&&(t.height="".concat(parseFloat(r.height),"%")),t}),[JSON.stringify(r.style),r.heightMode,r.height]),c=(0,e.useMemo)((function(){var e=[A.row];return o&&e.push(o),e.join(" ")}),[o]);return t().createElement("div",Object.assign({style:s,className:c},a),i)};var E=r(5469),P={attributes:{title:"less"}};P.styleTagTransform=m(),P.setAttributes=f(),P.insert=u().bind(null,"head"),P.domAPI=c(),P.insertStyleElement=v(),a()(E.A,P);const S=E.A&&E.A.locals?E.A.locals:void 0;var k;!function(e){e.Px="px",e.Auto="auto",e.Percent="%"}(k||(k={}));var z=function(n,r){var o=n.col,i=n.className,a=n.children,s=n.onClick,c=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(n,["col","className","children","onClick"]),l=(0,e.useMemo)((function(){var e,t={};return o.widthMode===k.Auto&&(t.flex=1,t.minWidth=30),o.widthMode===k.Px&&(t.width=o.width),o.widthMode===k.Percent&&(t.flex="0 0 ".concat(o.width,"%"),t.maxWidth="".concat(o.width,"%")),Object.assign(Object.assign({},t),null!==(e=o.style)&&void 0!==e?e:{})}),[JSON.stringify(o.style),o.width,o.widthMode]),u=(0,e.useMemo)((function(){var e=[S.col];return i&&e.push(i),e.join(" ")}),[i]);return t().createElement("div",Object.assign({ref:r,style:l,className:u,onClick:function(e){return function(e,t){"function"==typeof s&&s(t)}(0,o)}},c),a)};const N=(0,e.forwardRef)(z);var C=r(4437),T={attributes:{title:"less"}};T.styleTagTransform=m(),T.setAttributes=f(),T.insert=u().bind(null,"head"),T.domAPI=c(),T.insertStyleElement=v(),a()(C.A,T);const I=C.A&&C.A.locals?C.A.locals:void 0;function R(e){return function(e){if(Array.isArray(e))return L(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return L(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?L(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var U=function(n){var r=n.axis,o=void 0===r?"x":r,i=n.onMouseDown,a=n.onMouseMove,s=n.onMouseUp,c=n.className,l=(0,e.useRef)(null),u=(0,e.useRef)([0,0]),d=function(e){var t=e.clientX-u.current[0],n=e.clientY-u.current[1];a&&a([t,n])},f=function e(){document.removeEventListener("mousemove",d),document.removeEventListener("mouseup",e),s&&s()},p=(0,e.useCallback)((function(){var e;if(l.current){var t=new CustomEvent("hover",{detail:{axis:o}});null===(e=l.current.parentNode)||void 0===e||e.dispatchEvent(t)}}),[o,l.current]),v=(0,e.useCallback)((function(){var e;if(l.current){var t=new CustomEvent("leave",{detail:{axis:o}});null===(e=l.current.parentNode)||void 0===e||e.dispatchEvent(t)}}),[o,l.current]);return t().createElement("div",{ref:l,className:"".concat("x"===o?I["resizer-r"]:I["resizer-b"]," ").concat(null!=c?c:""),onMouseDown:function(e){u.current=[e.clientX,e.clientY],document.addEventListener("mousemove",d),document.addEventListener("mouseup",f),i&&i(e),e.stopPropagation()},onMouseOver:p,onMouseLeave:v})};const D=function(n){var r=n.axis,o=void 0===r?"x":r,i=n.zoom,a=void 0===i?1:i,s=n.onResizeStart,c=n.onResize,l=n.onResizeStop,u=n.children,d=n.className,f=(0,e.useRef)(),p=u.props,v=p.children,h=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(p,["children"]),m=(0,e.useMemo)((function(){return"x"===o||"y"===o?[o]:"both"===o?["x","y"]:[]}),[o]);return(0,e.cloneElement)(u,Object.assign(Object.assign({},h),{className:"".concat(h.className," ").concat(I.resizable)}),[].concat(R(e.Children.toArray(v)),R(m.map((function(e){return t().createElement(U,{key:"resizer-".concat(e),axis:e,onMouseDown:function(e){return function(e,t){f.current=e.target.parentNode.getBoundingClientRect(),s&&s()}(e)},onMouseMove:function(e){return function(e,t){var n,r=null!==(n=f.current)&&void 0!==n?n:{},o=r.width,i=void 0===o?0:o,s=r.height,l=void 0===s?0:s,u=t[0],d=t[1];c&&c({width:Math.max(Math.floor((i+u)/a),0),height:Math.max(Math.floor((l+d)/a),0)})}(0,e)},onMouseUp:function(){l&&l()},className:d})})))))};var F=r(395),W={attributes:{title:"less"}};W.styleTagTransform=m(),W.setAttributes=f(),W.insert=u().bind(null,"head"),W.domAPI=c(),W.insertStyleElement=v(),a()(F.A,W);const _=F.A&&F.A.locals?F.A.locals:void 0,q=function(e){var r=e.data,o=e.slots,i=e.inputs,a=e.outputs,s=e.logger,c=e.onError;i.setWidth((function(e,t){var n=e.coordinate,o=e.width,i="找不到布局列，检查参数设置";try{var a=r.rows[n[0]-1].cols[n[1]-1];if(!a)throw Error(i);a.widthMode="auto"===o?k.Auto:k.Px,a.width=o,t.setWidthComplete()}catch(e){s.error(i),null==c||c(i)}}));var l=function(e){var t=e.key;t&&a[t]()};return t().createElement(n.Provider,{value:Object.assign({},e)},t().createElement(x,{className:"mybricks-layout"},r.rows.map((function(e){return t().createElement(M,{row:e,key:e.key,className:"mybricks-row"},e.cols.map((function(n,i){var a,s=i===e.cols.length-1,c={col:Object.assign(Object.assign({},n),{widthMode:r.resizable&&s?k.Auto:n.widthMode}),key:n.key,className:"mybricks-col","data-layout-col-key":"".concat(e.key,"@").concat(n.key),onClick:l},u=t().createElement(N,Object.assign({},c),null===(a=o[n.key])||void 0===a?void 0:a.render({key:n.key,style:n.slotStyle}));return r.resizable?t().createElement(D,{axis:"x",className:_.resizer,key:n.key,onResize:function(e){var t=e.width;r.rows.forEach((function(e){e.cols[i]=Object.assign(Object.assign({},n),{width:t,widthMode:k.Px})}))}},u):u})))}))))}})(),o})()));