import*as t from"moment";var o,n,e={d:(t,o)=>{for(var n in o)e.o(o,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:o[n]})},o:(t,o)=>Object.prototype.hasOwnProperty.call(t,o)},r={};e.d(r,{A:()=>c}),function(t){t.StartCountdown="startCountdown",t.StopCountdown="stopCountdown"}(o||(o={})),function(t){t.ResidualTime="residualTime",t.CountdownOut="countdownOut"}(n||(n={}));const u=(a={default:()=>t.default},i={},e.d(i,a),i);var a,i;function c(t){var e=t.env,r=t.data,a=t.inputs,i=t.logger,c=t.onError,l=e.runtime,d=r.staticTime,m=r.format,f=r.customFormat,s=r.isFormat,p=r.immediate,v=null,w=0,C=function(t){if(!s)return t;var o=1e3*t;return u.default.utc(o).format("custom"===m?f:m)},O=function(){v&&(clearInterval(v),v=null)};a[o.StartCountdown]((function(t,o){try{e=isNaN(Number(t))?d:Number(t),r=o[n.CountdownOut],u=o[n.ResidualTime],w=e,p&&u(C(w)),v=setInterval((function(){w--,u(C(w)),w<=0&&(O(),r(0))}),1e3)}catch(t){null==c||c(t),console.error("倒计时组件运行错误.",t),i.error("".concat(t))}var e,r,u})),a[o.StopCountdown]((function(t,o){o[n.CountdownOut](w),O()})),"function"==typeof(null==l?void 0:l.onComplete)&&l.onComplete((function(){O()}))}var l=r.A;export{l as default};