/*! For license information please see Tabs.js.LICENSE.txt */
import*as e from"react";import*as t from"antd";import*as n from"@ant-design/icons";var i={4988:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",i=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),i&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),i&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,i,r,a){"string"==typeof e&&(e=[[null,e,void 0]]);var o={};if(i)for(var u=0;u<this.length;u++){var c=this[u][0];null!=c&&(o[c]=!0)}for(var s=0;s<e.length;s++){var l=[].concat(e[s]);i&&o[l[0]]||(void 0!==a&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=a),n&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=n):l[2]=n),r&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=r):l[4]="".concat(r)),t.push(l))}},t}},8371:e=>{e.exports=function(e){return e[1]}},9481:(e,t,n)=>{n.d(t,{A:()=>u});var i=n(8371),r=n.n(i),a=n(4988),o=n.n(a)()(r());o.push([e.id,".tabbox-e9354 {\n  height: 100%;\n  overflow: hidden;\n}\n.tabbox-e9354 .ant-tabs,\n.tabbox-e9354 .ant-tabs-content-holder,\n.tabbox-e9354 .ant-tabs-content {\n  height: 100%;\n}\n.tabbox-e9354 .ant-tabs-tab {\n  height: 100%;\n}\n.tabbox-e9354 .ant-tabs-tab .anticon {\n  margin-right: 4px;\n}\n.tabbox-e9354 .minHeight-a09bd {\n  min-height: 100px;\n}\n.tabbox-e9354 .content-dbd9d {\n  height: 100%;\n}\n",""]),o.locals={tabbox:"tabbox-e9354",minHeight:"minHeight-a09bd",content:"content-dbd9d"};const u=o},5072:e=>{var t=[];function n(e){for(var n=-1,i=0;i<t.length;i++)if(t[i].identifier===e){n=i;break}return n}function i(e,i){for(var a={},o=[],u=0;u<e.length;u++){var c=e[u],s=i.base?c[0]+i.base:c[0],l=a[s]||0,d="".concat(s," ").concat(l);a[s]=l+1;var f=n(d),v={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==f)t[f].references++,t[f].updater(v);else{var b=r(v,i);i.byIndex=u,t.splice(u,0,{identifier:d,updater:b,references:1})}o.push(d)}return o}function r(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,r){var a=i(e=e||[],r=r||{});return function(e){e=e||[];for(var o=0;o<a.length;o++){var u=n(a[o]);t[u].references--}for(var c=i(e,r),s=0;s<a.length;s++){var l=n(a[s]);0===t[l].references&&(t[l].updater(),t.splice(l,1))}a=c}}},7659:e=>{var t={};e.exports=function(e,n){var i=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(n)}},540:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},4868:e=>{e.exports=function(e,t){Object.keys(t).forEach((function(n){e.setAttribute(n,t[n])}))}},7825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var i="";n.supports&&(i+="@supports (".concat(n.supports,") {")),n.media&&(i+="@media ".concat(n.media," {"));var r=void 0!==n.layer;r&&(i+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),i+=n.css,r&&(i+="}"),n.media&&(i+="}"),n.supports&&(i+="}");var a=n.sourceMap;a&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),t.styleTagTransform(i,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},1113:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},7097:(e,t,n)=>{var i;function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}!function(){var a={}.hasOwnProperty;function o(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=c(e,u(n)))}return e}function u(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!==r(e))return"";if(Array.isArray(e))return o.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)a.call(e,n)&&e[n]&&(t=c(t,n));return t}function c(e,t){return t?e?e+" "+t:e+t:e}e.exports?(o.default=o,e.exports=o):"object"===r(n.amdO)&&n.amdO?void 0===(i=function(){return o}.apply(t,[]))||(e.exports=i):window.classNames=o}()}},r={};function a(e){var t=r[e];if(void 0!==t)return t.exports;var n=r[e]={id:e,exports:{}};return i[e](n,n.exports,a),n.exports}a.amdO={},a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var o={};(()=>{a.d(o,{A:()=>D});const i=(r={default:()=>e.default,useCallback:()=>e.useCallback,useEffect:()=>e.useEffect,useRef:()=>e.useRef,useState:()=>e.useState},u={},a.d(u,r),u);var r,u,c=a(7097),s=a.n(c);const l=(e=>{var t={};return a.d(t,e),t})({Badge:()=>t.Badge,Tabs:()=>t.Tabs,Tooltip:()=>t.Tooltip});var d,f,v;!function(e){e.LeftExtra="leftExtra",e.RigthExtra="rigthExtra"}(d||(d={})),function(e){e.SetActiveTab="active",e.PreviousTab="previous",e.NextTab="next",e.OutActiveTab="outActiveTab",e.SetShowTab="setShowTab",e.SetTabs="setTabs",e.GetTabs="getTabs"}(f||(f={})),function(e){e.OnTabClick="tabClick",e.OutActiveTab="outActiveTab",e.SetActiveTabComplete="activeComplete",e.PreviousTabComplete="previousComplete",e.NextTabComplete="nextComplete",e.SetShowTabComplete="setShowTabComplete",e.AddTab="addTab",e.RemoveTab="removeTab",e.SetTabsDone="setTabsDone",e.GetTabsDone="getTabsDone"}(v||(v={}));var b=a(5072),p=a.n(b),m=a(7825),y=a.n(m),h=a(7659),T=a.n(h),g=a(4868),A=a.n(g),x=a(540),k=a.n(x),L=a(1113),S=a.n(L),E=a(9481),C={attributes:{title:"less"}};C.styleTagTransform=S(),C.setAttributes=A(),C.insert=T().bind(null,"head"),C.domAPI=y(),C.insertStyleElement=k(),p()(E.A,C);const K=E.A&&E.A.locals?E.A.locals:void 0,w=n;var O=function(e,t){var n,i;if(!e)return{type:"none"};if(!t.runtime||!(null==e?void 0:e.id))return{type:"none"};var r=null===(n=null==t?void 0:t.hasPermission(null==e?void 0:e.id))||void 0===n||n;if(!0===r)return{type:"none"};var a=function(){var t,n;return!1===r?{permission:!1,type:null===(t=e.registerData)||void 0===t?void 0:t.noPrivilege,hintLinkUrl:e.hintLink,hintLinkTitle:null===(n=e.registerData)||void 0===n?void 0:n.title}:r}();return a.permission?{type:"none"}:"hide"===a.type?{type:"hide"}:"hintLink"===a.type?{type:"hintLink",hintLinkUrl:a.hintLinkUrl||e.hintLink,hintLinkTitle:a.hintLinkTitle||(null===(i=e.registerData)||void 0===i?void 0:i.title)}:{type:"hide"}},P=function(){return P=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},P.apply(this,arguments)},N=l.Tabs.TabPane,R=function(e){var t,n=e.icon,r=w&&(null===(t=w[n])||void 0===t?void 0:t.render());return i.default.createElement(i.default.Fragment,null,r)};function D(e){var t=e.env,n=e.data,r=e.slots,a=e.inputs,o=e.outputs,u=e.onError,c=e.logger,b=(0,i.useState)((function(){var e;return(null===(e=n.tabList)||void 0===e?void 0:e.map((function(e){return e.id})))||[]})),p=b[0],m=b[1];function y(e){return!e||"none"===O(e,t).type}(0,i.useEffect)((function(){m((function(){var e;return(null!==(e=n.tabList)&&void 0!==e?e:[]).map((function(e){return e.id}))}))}),[n.tabList]);var h,T,g=(h=n.defaultActiveKey,T=(0,i.useRef)(),(0,i.useEffect)((function(){T.current=h}),[h]),T.current),A=(0,i.useCallback)((function(e){return void 0===e&&(e=n.defaultActiveKey),n.tabList.find((function(t){var n=t.id,i=t.permission,r=t.key;return y(i)&&(null==p?void 0:p.includes(n))&&r===e}))}),[p,n.defaultActiveKey]),x=(0,i.useCallback)((function(e){return void 0===e&&(e=n.defaultActiveKey),n.tabList.findIndex((function(t){var n=t.id,i=t.permission,r=t.key;return y(i)&&(null==p?void 0:p.includes(n))&&r===e}))}),[p,n.defaultActiveKey]);(0,i.useEffect)((function(){t.runtime&&(n.tabList.length&&!n.active&&(n.defaultActiveKey=n.tabList[0].key),a[f.SetActiveTab]((function(e,t){var i,r=+e;if(isNaN(r)){if(!(i=n.tabList.find((function(t){return t.id===e}))))return u(a="标签页不存在"),void c.error(a)}else{var a;if(r<0||r>n.tabList.length-1)return u(a="[tabs]：下标值超出范围"),void c.error(a);i=n.tabList[r]}if(i&&y(i.permission))return n.defaultActiveKey=i.key,n.active=!0,void t[v.SetActiveTabComplete]();n.defaultActiveKey=void 0,n.active=!1,t[v.SetActiveTabComplete]()})),a[f.PreviousTab]((function(e,t){var i=n.tabList.filter((function(e){return y(e.permission)})),r=i.findIndex((function(e){return(null==p?void 0:p.includes(e.id))&&e.key===n.defaultActiveKey}));i[r-1]&&(n.defaultActiveKey=i[r-1].key,t[v.PreviousTabComplete]())})),a[f.NextTab]((function(e,t){var i=n.tabList.filter((function(e){return y(e.permission)})),r=i.findIndex((function(e){return(null==p?void 0:p.includes(e.id))&&e.key===n.defaultActiveKey}));i[r+1]&&(n.defaultActiveKey=i[r+1].key,t[v.NextTabComplete]())})),a[f.OutActiveTab]((function(e,t){var n=A(),i=x();t[v.OutActiveTab](P(P({},n),{index:i}))})),n.tabList.forEach((function(e){e.dynamic&&a[e.key]&&a[e.key]((function(t){if("string"==typeof t||"number"==typeof t)e.num=t;else{e.num=void 0;var n="只支持类型为string或者number的作为tab的name";u(n),c.error(n)}}))})),n.useDynamicTab&&a[f.SetShowTab]((function(e,t){var i;if(Array.isArray(e)){var r=e.map((function(e){var t,i=+e;return isNaN(i)?e:null===(t=n.tabList[i])||void 0===t?void 0:t.id})).filter((function(e){return!!e}));m(r),r.length&&(n.tabList.filter((function(e){return r.includes(e.id)})).find((function(e){return e.key===n.defaultActiveKey}))||(n.defaultActiveKey=null===(i=n.tabList.find((function(e){return e.id===r[0]})))||void 0===i?void 0:i.key)),t[v.SetShowTabComplete]()}})),n.dynamicTabs&&a[f.SetTabs]((function(e,t){if(Array.isArray(e))if(e.length&&e.some((function(e){return!e.id||!e.key})))u("tab data type error");else{var i=[],r=e.map((function(e){var t;return"closable"in e||(e.closable=n.closable),i.push(null===(t=e.key)||void 0===t?void 0:t.toString()),e}));n.tabList=r,n.defaultActiveKey&&i.includes(n.defaultActiveKey)||!r[0].key||(n.defaultActiveKey=r[0].key+""),t[v.SetTabsDone](r)}else u("arguments must be tab list")})),a[f.GetTabs]((function(e,t){t[v.GetTabsDone](n.tabList)})))}),[p]),(0,i.useEffect)((function(){t.runtime&&L().then(k)}),[n.defaultActiveKey,p]);var k=function(){var e=A();e&&o["".concat(e.id,"_into")]()},L=function(){if(void 0===g)return Promise.resolve();var e=A(g);return e?Promise.all([o["".concat(e.id,"_leave")]()]):Promise.resolve()},S=(0,i.useCallback)((function(e){if(n.prohibitClick||(n.defaultActiveKey=e),t.runtime&&o&&o[v.OnTabClick]){var i=A(e)||{},r=x(e);o[v.OnTabClick](P(P({},i),{index:r}))}}),[p]),E=function(e){var n=t.i18n(e.name);return"icon"===e.infoType?i.default.createElement(l.Badge,{count:e.num,offset:e.offset,size:e.size,status:e.status,showZero:e.showZero},i.default.createElement("span",null,e.showIcon?R({icon:e.icon}):null,n)):i.default.createElement("span",null,e.showIcon?R({icon:e.icon}):null,void 0===e.num?n:"".concat(n," (").concat(e.num,")"))};return i.default.createElement("div",{className:"".concat(K.tabbox," root")},i.default.createElement(l.Tabs,{activeKey:n.defaultActiveKey,type:n.type,centered:n.centered,tabPosition:n.tabPosition,onChange:S,size:n.size||"middle",hideAdd:n.hideAdd,onEdit:t.edit?void 0:function(e,t){({add:function(){o[v.AddTab](n.tabList)},remove:function(e){console.log(e),n.tabList=n.tabList.filter((function(t){return t.key!=e})),n.defaultActiveKey===e&&n.tabList.length&&(n.defaultActiveKey=n.tabList[n.tabList.length].key+""),o[v.RemoveTab](n.tabList)}})[t](e)},tabBarExtraContent:{left:n.useLeftExtra?r[d.LeftExtra].render():void 0,right:n.useRigthExtra?r[d.RigthExtra].render():void 0}},i.default.createElement(i.default.Fragment,null,n.tabList.map((function(e){var a;return t.i18n(e.name),!t.runtime||y(e.permission)&&(null==p?void 0:p.includes(e.id))?i.default.createElement(N,{tab:i.default.createElement(l.Tooltip,{title:t.i18n(e.tooltipText)},E(e)),key:e.key,closable:!!e.closable,forceRender:!!n.forceRender},n.hideSlots?null:i.default.createElement("div",{className:s()(K.content,t.edit&&K.minHeight)},null===(a=r[e.id])||void 0===a?void 0:a.render({style:n.slotStyle}))):null})))))}})();var u=o.A;export{u as default};