import*as e from"antd";import*as t from"react";var n={9854:(e,t,n)=>{var o=n(9882).Symbol;e.exports=o},2215:(e,t,n)=>{var o=n(9854),r=n(4434),i=n(8801),a=o?o.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?r(e):i(e)}},1887:(e,t,n)=>{var o=n(2773),r=/^\s+/;e.exports=function(e){return e?e.slice(0,o(e)+1).replace(r,""):e}},5827:(e,t,n)=>{function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}var r="object"==(void 0===n.g?"undefined":o(n.g))&&n.g&&n.g.Object===Object&&n.g;e.exports=r},4434:(e,t,n)=>{var o=n(9854),r=Object.prototype,i=r.hasOwnProperty,a=r.toString,l=o?o.toStringTag:void 0;e.exports=function(e){var t=i.call(e,l),n=e[l];try{e[l]=void 0;var o=!0}catch(e){}var r=a.call(e);return o&&(t?e[l]=n:delete e[l]),r}},8801:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},9882:(e,t,n)=>{function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}var r=n(5827),i="object"==("undefined"==typeof self?"undefined":o(self))&&self&&self.Object===Object&&self,a=r||i||Function("return this")();e.exports=a},2773:e=>{var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},7892:(e,t,n)=>{var o=n(8632),r=n(5107),i=n(7383),a=Math.max,l=Math.min;e.exports=function(e,t,n){var u,s,c,f,d,p,v=0,y=!1,b=!1,m=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function h(t){var n=u,o=s;return u=s=void 0,v=t,f=e.apply(o,n)}function E(e){var n=e-p;return void 0===p||n>=t||n<0||b&&e-v>=c}function g(){var e=r();if(E(e))return S(e);d=setTimeout(g,function(e){var n=t-(e-p);return b?l(n,c-(e-v)):n}(e))}function S(e){return d=void 0,m&&u?h(e):(u=s=void 0,f)}function w(){var e=r(),n=E(e);if(u=arguments,s=this,p=e,n){if(void 0===d)return function(e){return v=e,d=setTimeout(g,t),y?h(e):f}(p);if(b)return clearTimeout(d),d=setTimeout(g,t),h(p)}return void 0===d&&(d=setTimeout(g,t)),f}return t=i(t)||0,o(n)&&(y=!!n.leading,c=(b="maxWait"in n)?a(i(n.maxWait)||0,t):c,m="trailing"in n?!!n.trailing:m),w.cancel=function(){void 0!==d&&clearTimeout(d),v=0,u=p=s=d=void 0},w.flush=function(){return void 0===d?f:S(r())},w}},8632:e=>{function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}e.exports=function(e){var n=t(e);return null!=e&&("object"==n||"function"==n)}},3711:e=>{function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}e.exports=function(e){return null!=e&&"object"==t(e)}},1263:(e,t,n)=>{function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}var r=n(2215),i=n(3711);e.exports=function(e){return"symbol"==o(e)||i(e)&&"[object Symbol]"==r(e)}},5107:(e,t,n)=>{var o=n(9882);e.exports=function(){return o.Date.now()}},7383:(e,t,n)=>{var o=n(1887),r=n(8632),i=n(1263),a=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,u=/^0o[0-7]+$/i,s=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(i(e))return NaN;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=o(e);var n=l.test(e);return n||u.test(e)?s(e.slice(2),n?2:8):a.test(e)?NaN:+e}}},o={};function r(e){var t=o[e];if(void 0!==t)return t.exports;var i=o[e]={exports:{}};return n[e](i,i.exports,r),i.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var i={};(()=>{r.d(i,{A:()=>ee});const n=(o={Input:()=>e.Input},a={},r.d(a,o),a);var o,a;const l=(e=>{var t={};return r.d(t,e),t})({default:()=>t.default,useCallback:()=>t.useCallback,useEffect:()=>t.useEffect,useLayoutEffect:()=>t.useLayoutEffect,useMemo:()=>t.useMemo,useRef:()=>t.useRef,useState:()=>t.useState});var u={SET_FIELDS_VALUE:"setFieldsValue",SUBMIT:"submit",RESET_FIELDS:"resetFields",SUBMIT_AND_MERGE:"submitAndMerge",SET_INITIAL_VALUES:"setInitialValues",SET_FORM_ITEMS_PROPS:"setFormItemsProps",SET_DISABLED:"setDisabled",SET_ENABLED:"setEnabled",GET_FIELDS_VALUE:"getFieldsValue",VALIDATE_FIELDS:"validateFields",SET_VALIDATE_INFO:"setValidateInfo",SetDisable:"setDisable",SetEnable:"setEnable",IsEnable:"isEnable",SetHidden:"setHidden",SetShow:"setShow",setValue:"setValue",setInitialValue:"setInitialValue",resetValue:"resetValue",isEditable:"isEditable"},s={ON_FINISH:"onFinish",ON_SUBMIT_ERROR:"onSubmitError",ON_RESET_FINISH:"onResetFinish",ON_CLICK_SUBMIT:"onClickSubmit",ON_CLICK_CANCEL:"onClickCancel",ON_MERGE_FINISH:"onMergeFinish",ON_VALUES_CHANGE:"onValuesChange",RETURN_VALUES:"returnValues",ON_VALIDATE:"onValidate",ON_COLLAPSE:"onCollapse",setValueDone:"setValueDone",setInitialValueDone:"setInitialValueDone",resetValueDone:"resetValueDone",setDisabledDone:"setDisabledDone",setEnabledDone:"setEnabledDone",isEnableDone:"isEnableDone",setColorDone:"setColorDone",setOptionsDone:"setOptionsDone",setValidateInfoDone:"setValidateInfoDone",isEditableDone:"isEditableDone"},c=function(e,t){var n,o,r=t.id,i=t.name,a=t.value;null===(o=null==e?void 0:(n=e._inputs).onChange)||void 0===o||o.call(n,{id:r,name:i,value:a})},f="setValue",d="setInitialValue",p="getValue",v="resetValue",y="validate",b="setDisabled",m="setEnabled",h="isEnable",E="isEditable";const g=function(e,t){var n=e.inputs,o=e.outputs,r=e.configs,i=e.parentSlot,a=e.id,u=e.name;(0,l.useLayoutEffect)((function(){n[f]&&n[f]((function(e,t){(null==r?void 0:r.setValue)&&(r.setValue(e),t.setValueDone&&t.setValueDone(e)),(null==r?void 0:r.onChange)?r.onChange(e):o.onChange(e),i&&a&&c(i,{id:a,value:e,name:u})})),n[d]&&n[d]((function(e,t){(null==r?void 0:r.setInitialValue)&&(r.setInitialValue(e),t.setInitialValueDone&&t.setInitialValueDone(e)),o.onInitial(e)})),n[p]&&n[p]((function(e,t){(null==r?void 0:r.returnValue)&&r.returnValue(t.returnValue)})),n[v]&&n[v]((function(e,t){(null==r?void 0:r.resetValue)&&(r.resetValue(),t.resetValueDone&&t.resetValueDone())})),n[y]&&n[y]((function(e,t){(null==r?void 0:r.validate)&&r.validate(e,t.returnValidate)})),n[b]&&n[b]((function(e,t){(null==r?void 0:r.setDisabled)&&(r.setDisabled(),t.setDisabledDone&&t.setDisabledDone())})),n[m]&&n[m]((function(e,t){(null==r?void 0:r.setEnabled)&&(null==r||r.setEnabled(),t.setEnabledDone&&t.setEnabledDone())})),n[h]&&n[h]((function(e,t){(null==r?void 0:r.setIsEnabled)&&(null==r||r.setIsEnabled(e),t.isEnableDone&&t.isEnableDone(e))})),n[E]&&n[E]((function(e,t){(null==r?void 0:r.setIsEditable)&&(null==r||r.setIsEditable(e),t.isEditableDone&&t.isEditableDone(e))}))}),t||[])};var S={OBJECT:"[object Object]",ARRAY:"[object Array]",STRING:"[object String]",NUMBER:"[object Number]",FORMDATA:"[object FormData]",NULL:"[object Null]",UNDEFINED:"[object Undefined]",BOOLEAN:"[object Boolean]",FUNCTION:"[object Function]"};function w(e,t){if(Array.isArray(t)){for(var n=!1,o=0;o<t.length;o++)if(w(e,t[o])){n=!0;break}return n}var r=/^\[.*\]$/.test(t)?t:S[t.toUpperCase()];return Object.prototype.toString.call(e)===r}var D=function(e,t,n){if(n||2===arguments.length)for(var o,r=0,i=t.length;r<i;r++)!o&&r in t||(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))},O=window.setInterval,x=window.clearInterval,V=window.setTimeout,I=window.clearTimeout,A=window,T=new WeakMap,_=new WeakMap,L=new WeakMap,M={undefined:!0,Array:!0,Object:!0,String:!0,Boolean:!0,Math:!0,Number:!0,Symbol:!0,parseFloat:!0,Float32Array:!0};function N(){var e={};return Object.getOwnPropertyNames(A).forEach((function(t){var n=Object.getOwnPropertyDescriptor(A,t);if(n&&!n.configurable){var o=Object.prototype.hasOwnProperty.call(n,"get");"top"!==t&&"parent"!==t&&"self"!==t&&"window"!==t||(n.configurable=!0,o||(n.writable=!0)),Object.defineProperty(e,t,Object.freeze(n))}})),e}const R=function(){function e(e){void 0===e&&(e={});var t=this;this.hasDisposed=!1,this.fakeWindow=N(),this.timeoutList=[],this.intervalList=[],this.options={},this.options=e||{},this.proxy=new Proxy(window,{set:function(e,n,o){if(!t.hasDisposed)try{!t.fakeWindow.hasOwnProperty(n)&&e.hasOwnProperty(n)&&(r=n,i=t.fakeWindow,(a=Object.getOwnPropertyDescriptor(window,r))&&a.writable&&Object.defineProperty(i,r,{configurable:a.configurable,enumerable:a.enumerable,writable:a.writable,value:a.value})),t.fakeWindow[n]=o}catch(e){throw console.error("set-key-error",n,e),e}var r,i,a;return!0},get:function(e,n){if(n===Symbol.unscopables)return M;if("window"===n||"self"===n)return t.proxy;if("document"!==n){if("hasOwnProperty"===n)return e.hasOwnProperty;if("eval"===n)return e.eval;if("location"===n)return e.location;try{var o=n in t.fakeWindow?t.fakeWindow[n]:e[n];return"function"!=typeof o||function(e){if(_.has(e))return _.get(e);var t=0===e.name.indexOf("bound ")&&!e.hasOwnProperty("prototype");return _.set(e,t),t}(o)||function(e){if(T.has(e))return T.get(e);var t=e.prototype&&e.prototype.constructor===e&&Object.getOwnPropertyNames(e.prototype).length>1||/^function\b\s[A-Z].*/.test(e.toString())||/^class\b/.test(e.toString());return T.set(e,t),t}(o)?o:(o=Function.prototype.bind.call(o,e),function(e,t){var n=L.get(t);if(n)return n;var o=Function.prototype.bind.call(t,e);for(var r in t)o[r]=t[r];return t.hasOwnProperty("prototype")&&!o.hasOwnProperty("prototype")&&(o.prototype=t.prototype),L.set(t,o),o}(window,o))}catch(e){throw console.error("get-key-error",n,e),e}}},has:function(e,n){return!t.options.module||"params"!==n&&"cb"!==n}}),this.proxy.setTimeout=function(e,n){for(var o=[],r=2;r<arguments.length;r++)o[r-2]=arguments[r];if(t.hasDisposed)return 0;var i=V.apply(void 0,D([e,n],o,!1));return t.timeoutList.push(i),i},this.proxy.clearTimeout=function(e){var n=t.timeoutList.indexOf(e);return-1!==n&&t.timeoutList.splice(n,1),I(e)},this.proxy.setInterval=function(e,n){for(var o=[],r=2;r<arguments.length;r++)o[r-2]=arguments[r];if(t.hasDisposed)return 0;var i=O.apply(void 0,D([e,n],o,!1));return t.intervalList.push(i),i},this.proxy.clearInterval=function(e){var n=t.intervalList.indexOf(e);return-1!==n&&t.intervalList.splice(n,1),x(e)},A.proxy=this.proxy}return e.prototype.compile=function(e){if(this.hasDisposed)throw new Error("sandbox has been destroyed");var t,n=this.options.module;t=n?function(e){return"(\n                function(window, params, cb) {\n                    with(window) {\n                        return (".concat(e,")(...params, cb)\n                    }\n                }\n            )")}(e):function(e){return"(\n                function(window) {\n                    with(window){\n                        ".concat(e,"\n                    } \n                }\n            ).bind(window.proxy)\n        ")}(e);var o=A.eval("".concat(t,";//@ sourceURL=sandbox-code.js"));return{run:function(e,t){try{return n?o(window.proxy,e,t):o(window.proxy)}catch(e){throw console.error("js sandbox error occur:",e),e}}}},e.prototype.dispose=function(){this.timeoutList.forEach((function(e){window.clearTimeout(e)})),this.timeoutList=[],this.intervalList.forEach((function(e){return x(e)})),this.intervalList=[],this.fakeWindow=N(),this.options={},delete A.proxy,this.hasDisposed=!0,console.log("Sandbox was successfully destroyed")},e}();function C(e){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C(e)}!function(){function e(e){this.options={},String.prototype.matchAll||(String.prototype.matchAll=function(e){for(var t,n=[];null!=(t=e.exec(this));)n.push(t);return n}),this.options=e}e.prototype.unscopeCompileCode=function(e,t){return void 0===e&&(e="context"),new Function(e,"with(".concat(e,"){\n            return ").concat(t,"\n        }"))},e.prototype.scopeCompileCode=function(e){var t=this,n=this.unscopeCompileCode(this.options.prefix,e);return function(e){var o,r=t.options.prefix?((o={})[t.options.prefix]=e,o):e,i=new Proxy(r,{has:function(e,t){return!0},get:function(e,t,n){if(t!==Symbol.unscopables)return Reflect.get(e,t,n)}});return n(i)}},e.prototype.execute=function(e){var t,n=this.scopeCompileCode(e),o=null!==(t=this.options.context)&&void 0!==t?t:{};return n.call(this,o)},e.prototype.executeWithTemplate=function(e){var t=this,n=e.matchAll(/\{([^\{\}]*?|.+)\}/g),o=Array.from(n);if(!o.length)return e;var r=o.map((function(e){var n=e[0],o=e.input,r=e[1];return r.trim()&&(r=t.execute(r)),{match:n,ret:r,input:o}}));if(1===r.length&&r[0].input===r[0].match)return r[0].ret;var i=r.reduce((function(t,n){var o=n.match,r=n.ret;return o===e&&void 0===r?r:t.replace(o,"string"==typeof r?r:JSON.stringify(r))}),e);try{return JSON.parse(i)}catch(e){return i}}}();var j,P,k=function(){return k=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},k.apply(this,arguments)},U=function(e,t,n){if(n||2===arguments.length)for(var o,r=0,i=t.length;r<i;r++)!o&&r in t||(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))};!function(e){e.REQUIRED="required",e.MIN="min",e.MAX="max",e.MIN_LENGTH="minLength",e.MAX_LENGTH="maxLength",e.REG_EXP="regExp",e.CODE_VALIDATOR="codeValidator",e.Email_VALIDATOR="emailValidator",e.PHONE_NUMBER_VALIDATOR="phoneNumberValidator",e.CUSTOM_EVENT="customEvent"}(P||(P={}));var F,B=encodeURIComponent("export default async function (value, context) {\n  if (!value && ![0, false].includes(value)) {\n    context.failed(`内容不能为空`);\n  } else {\n    context.successed();\n  }\n}\n"),G={key:P.REQUIRED,status:!1,visible:!0,title:"必填",message:"内容不能为空"},H={key:P.REG_EXP,status:!1,visible:!0,title:"正则校验",message:"内容不能为空",regExr:"^(?!(null|undefined|)$).+"},W=[{key:P.MIN_LENGTH,status:!1,visible:!0,title:"最小长度校验",message:"内容长度不能小于指定值",limitMinLength:[2]},{key:P.MAX_LENGTH,status:!1,visible:!0,title:"最大长度校验",message:"内容长度不能大于指定值",limitMaxLength:[1e3]}],X=[{key:P.MIN,status:!1,visible:!0,title:"最小值校验",message:"不能小于指定值",limitMinValue:[0]},{key:P.MAX,status:!1,visible:!0,title:"最大值校验",message:"不能大于指定值",limitMaxValue:[1e4]}],z=[{key:P.CODE_VALIDATOR,status:!1,visible:!0,title:"代码校验",validateCode:B},{key:P.CUSTOM_EVENT,status:!1,visible:!0,title:"自定义校验"}],$=U([G],z,!0),Z=(U([G,H],z,!0),U(U(U([G],W,!0),[H],!1),z,!0),U(U(U(U([G],W,!0),X,!0),[H],!1),z,!0),(j={})[P.REQUIRED]=function(e){var t=e.value,n=e.message,o=e.failed,r=e.successed,i=e.env;return t||[0,!1].includes(t)?Array.isArray(t)&&t.length<1?o(i.i18n(n)):r():o(i.i18n(n))},j[P.MIN]=function(e){var t=e.value,n=e.message,o=e.failed,r=e.successed,i=e.env,a=e.limitMinValue;return w(t,"NUMBER")&&t<a?o(i.i18n(n)):r()},j[P.MAX]=function(e){var t=e.value,n=e.message,o=e.failed,r=e.successed,i=e.env,a=e.limitMaxValue;return w(t,"NUMBER")&&t>a?o(i.i18n(n)):r()},j[P.MIN_LENGTH]=function(e){var t=e.value,n=e.message,o=e.failed,r=e.successed,i=e.env,a=e.limitMinLength;return t&&(null==t?void 0:t.toString().length)<a?o(i.i18n(n)):r()},j[P.MAX_LENGTH]=function(e){var t=e.value,n=e.message,o=e.failed,r=e.successed,i=e.env,a=e.limitMaxLength;return t&&(null==t?void 0:t.toString().length)>a?o(i.i18n(n)):r()},j[P.REG_EXP]=function(e){var t=e.value,n=e.message,o=e.failed,r=e.successed,i=e.env,a=e.regExr;return new RegExp(a).test(t)?r():o(i.i18n(n))},j[P.CODE_VALIDATOR]=function(e){return function(e,t,n){var o,r=n||{},i=r.env,a=r.callback,l=void 0===a?function(){}:a,u=(null==i?void 0:i.runtime)&&!(null===(o=null==i?void 0:i.runtime)||void 0===o?void 0:o.debug);"object"===C(e)&&(e=u&&(null==e?void 0:e.transformCode)||(null==e?void 0:e.code));var s=null;if(t&&t.length){var c=new R({module:!0}),f=decodeURIComponent(e);s=/export\s+default.*async.*function.*\(/g.test(f)?c.compile("".concat(f.replace(/export\s+default.*function.*\(/g,"async function _RT_("))):c.compile("".concat(f.replace(/export\s+default.*function.*\(/g,"function _RT_(")))}else s=(c=new R).compile("".concat(decodeURIComponent(e)));return s.run(t,l)}(e.validateCode,e.args,{env:e.env})},j[P.Email_VALIDATOR]=function(e){var t=e.value,n=e.message,o=e.failed,r=e.successed,i=e.env,a=new RegExp("^[A-Za-z0-9一-龥]+@[a-zA-Z0-9_-]+(.[a-zA-Z0-9_-]+)+$");return t&&!a.test(t)?o(i.i18n(n)):r()},j[P.PHONE_NUMBER_VALIDATOR]=function(e){var t=e.value,n=e.message,o=e.failed,r=e.successed,i=e.env,a=new RegExp("^1\\d{10}$");return t&&!a.test(t)?o(i.i18n(n)):r()},j),J=r(7892),Q=function(){return Q=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},Q.apply(this,arguments)},K=function(e,t){var n,o;null===(o=null==e?void 0:(n=e._inputs).validateTrigger)||void 0===o||o.call(n,Q({},t))},q=(r.n(J)()(K,300),{SetValue:"setValue",SetInitialValue:"setInitialValue",ResetValue:"resetValue",SetDisabled:"setDisabled",SetEnabled:"setEnabled",SetValidateInfo:"setValidateInfo",SetColor:"setColor",SetDynamicStyles:"setDynamicStyles"});!function(e){e.Small="small",e.Middle="middle",e.Large="large"}(F||(F={})),F.Small,F.Middle,F.Large;var Y=function(){return Y=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},Y.apply(this,arguments)};function ee(e){var t=e.env,o=e.data,r=(e._inputs,e.inputs),i=(e._outputs,e.outputs),a=e.parentSlot,f=e.id,d=e.name,p=t.edit,v=(0,l.useState)(),y=v[0],b=v[1],m=(0,l.useRef)(null),h=(0,l.useRef)(null),E=(0,l.useRef)();g({id:f,name:d,inputs:r,outputs:i,configs:{setValue:function(e){w(e)},setInitialValue:function(e){w(e)},returnValue:function(e){e(E.current)},resetValue:function(){w(void 0)},setDisabled:function(){o.config.disabled=!0},setEnabled:function(){o.config.disabled=!1},setIsEnabled:function(e){!0===e?o.config.disabled=!1:!1===e&&(o.config.disabled=!0)},setIsEditable:function(e){o.isEditable=e},validate:function(e,n){(function(e){var t=e.value,n=e.model,o=e.env,r=(e.rules||$).filter((function(e){return e.status&&e.key!==P.CUSTOM_EVENT}));return new Promise((function(e,i){Promise.all(r.map((function(e){return new Promise((function(r,i){var a={successed:function(){return r("success")},failed:function(e){return i(e)}};Z[e.key](k({value:t,env:o,args:[t,k({model:n},a)],validateCode:e.validateCode,message:e.message,regExr:null==e?void 0:e.regExr,limitMinLength:(null==e?void 0:e.limitMinLength)&&(null==e?void 0:e.limitMinLength[0]),limitMaxLength:(null==e?void 0:e.limitMaxLength)&&(null==e?void 0:e.limitMaxLength[0]),limitMinValue:(null==e?void 0:e.limitMinValue)&&(null==e?void 0:e.limitMinValue[0]),limitMaxValue:(null==e?void 0:e.limitMaxValue)&&(null==e?void 0:e.limitMaxValue[0])},a))}))}))).then((function(t){e({validateStatus:"success"})})).catch((function(e){i({validateStatus:"error",help:e})}))}))})({value:E.current,env:t,model:e,rules:o.rules}).then((function(e){var t=(o.rules||$).find((function(e){return e.key===P.CUSTOM_EVENT}));(null==t?void 0:t.status)?(h.current=n,i[s.ON_VALIDATE](E.current)):n(e)})).catch((function(e){n(e)}))}}},[y]),(0,l.useLayoutEffect)((function(){r[q.SetColor]&&r[q.SetColor]((function(e,t){var n,o;(null===(o=null===(n=null==m?void 0:m.current)||void 0===n?void 0:n.resizableTextArea)||void 0===o?void 0:o.textArea)&&(m.current.resizableTextArea.textArea.style.color=e,t.setColorDone(e))}))}),[]),(0,l.useEffect)((function(){r[u.SET_VALIDATE_INFO]((function(e,t){h.current&&(h.current(e),t.setValidateInfoDone(e))}))}),[]);var S=function(){K(a,{id:f,name:d})},w=(0,l.useCallback)((function(e){b(e),E.current=e,c(a,{id:f,name:d,value:e})}),[]),D=(0,l.useCallback)((function(e){var t=e.target.value;w(t),i.onChange(t)}),[]),O=(0,l.useCallback)((function(e){var t=e.target.value;w(t),S(),i.onBlur(t)}),[]),x=(0,l.useCallback)((function(e){var t=e.target.value;S(),i.onPressEnter(t)}),[]),V=(0,l.useMemo)((function(){return t.edit?{rows:o.minRows}:{autoSize:{minRows:o.minRows,maxRows:o.maxRows}}}),[t.edit,o.minRows,o.maxRows]);return o.isEditable?l.default.createElement("div",null,l.default.createElement(n.Input.TextArea,Y({ref:m},o.config,{placeholder:t.i18n(o.config.placeholder),value:y,readOnly:!!p},V,{onChange:D,onBlur:O,onPressEnter:x}))):l.default.createElement("span",{style:{whiteSpace:"pre-wrap"}},y)}})();var a=i.A;export{a as default};