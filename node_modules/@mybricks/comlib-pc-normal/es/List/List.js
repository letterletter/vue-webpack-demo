/*! For license information please see List.js.LICENSE.txt */
import*as t from"react";import*as e from"antd";var r={4988:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var r="",n=void 0!==e[5];return e[4]&&(r+="@supports (".concat(e[4],") {")),e[2]&&(r+="@media ".concat(e[2]," {")),n&&(r+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),r+=t(e),n&&(r+="}"),e[2]&&(r+="}"),e[4]&&(r+="}"),r})).join("")},e.i=function(t,r,n,o,a){"string"==typeof t&&(t=[[null,t,void 0]]);var i={};if(n)for(var u=0;u<this.length;u++){var c=this[u][0];null!=c&&(i[c]=!0)}for(var s=0;s<t.length;s++){var l=[].concat(t[s]);n&&i[l[0]]||(void 0!==a&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=a),r&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=r):l[2]=r),o&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=o):l[4]="".concat(o)),e.push(l))}},e}},8371:t=>{t.exports=function(t){return t[1]}},8544:(t,e,r)=>{r.d(e,{A:()=>u});var n=r(8371),o=r.n(n),a=r(4988),i=r.n(a)()(o());i.push([t.id,".loading-a1ce3 {\n  min-height: 60px;\n}\n.listWrap-a1868 .ant-list-item {\n  margin-bottom: 0px !important;\n  padding: 0 !important;\n}\n.hideEmpty-b3294 .ant-list-empty-text {\n  display: none !important;\n}\n",""]),i.locals={loading:"loading-a1ce3",listWrap:"listWrap-a1868",hideEmpty:"hideEmpty-b3294"};const u=i},5072:t=>{var e=[];function r(t){for(var r=-1,n=0;n<e.length;n++)if(e[n].identifier===t){r=n;break}return r}function n(t,n){for(var a={},i=[],u=0;u<t.length;u++){var c=t[u],s=n.base?c[0]+n.base:c[0],l=a[s]||0,f="".concat(s," ").concat(l);a[s]=l+1;var p=r(f),d={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==p)e[p].references++,e[p].updater(d);else{var m=o(d,n);n.byIndex=u,e.splice(u,0,{identifier:f,updater:m,references:1})}i.push(f)}return i}function o(t,e){var r=e.domAPI(e);return r.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;r.update(t=e)}else r.remove()}}t.exports=function(t,o){var a=n(t=t||[],o=o||{});return function(t){t=t||[];for(var i=0;i<a.length;i++){var u=r(a[i]);e[u].references--}for(var c=n(t,o),s=0;s<a.length;s++){var l=r(a[s]);0===e[l].references&&(e[l].updater(),e.splice(l,1))}a=c}}},7659:t=>{var e={};t.exports=function(t,r){var n=function(t){if(void 0===e[t]){var r=document.querySelector(t);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(t){r=null}e[t]=r}return e[t]}(t);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(r)}},540:t=>{t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},4868:t=>{t.exports=function(t,e){Object.keys(e).forEach((function(r){t.setAttribute(r,e[r])}))}},7825:t=>{t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(r){!function(t,e,r){var n="";r.supports&&(n+="@supports (".concat(r.supports,") {")),r.media&&(n+="@media ".concat(r.media," {"));var o=void 0!==r.layer;o&&(n+="@layer".concat(r.layer.length>0?" ".concat(r.layer):""," {")),n+=r.css,o&&(n+="}"),r.media&&(n+="}"),r.supports&&(n+="}");var a=r.sourceMap;a&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleTagTransform(n,t,e.options)}(e,t,r)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},1113:t=>{t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},7097:(t,e,r)=>{var n;function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}!function(){var a={}.hasOwnProperty;function i(){for(var t="",e=0;e<arguments.length;e++){var r=arguments[e];r&&(t=c(t,u(r)))}return t}function u(t){if("string"==typeof t||"number"==typeof t)return t;if("object"!==o(t))return"";if(Array.isArray(t))return i.apply(null,t);if(t.toString!==Object.prototype.toString&&!t.toString.toString().includes("[native code]"))return t.toString();var e="";for(var r in t)a.call(t,r)&&t[r]&&(e=c(e,r));return e}function c(t,e){return e?t?t+" "+e:t+e:t}t.exports?(i.default=i,t.exports=i):"object"===o(r.amdO)&&r.amdO?void 0===(n=function(){return i}.apply(e,[]))||(t.exports=n):window.classNames=i}()}},n={};function o(t){var e=n[t];if(void 0!==e)return e.exports;var a=n[t]={id:t,exports:{}};return r[t](a,a.exports,o),a.exports}o.amdO={},o.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return o.d(e,{a:e}),e},o.d=(t,e)=>{for(var r in e)o.o(e,r)&&!o.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},o.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var a={};(()=>{o.d(a,{A:()=>M});const r=(n={default:()=>t.default,useEffect:()=>t.useEffect,useState:()=>t.useState},i={},o.d(i,n),i);var n,i;const u=(t=>{var e={};return o.d(e,t),e})({List:()=>e.List,Spin:()=>e.Spin});var c,s,l,f,p,d,m=o(7097),y=o.n(m);!function(t){t.DATA_SOURCE="dataSource",t.LOADING="loading",t.GetDataSource="getdataSource"}(c||(c={})),function(t){t.GetDataSource="getdataSource"}(s||(s={})),function(t){t.Grid="grid",t.Flex="flex"}(l||(l={})),function(t){t.Column="column",t.ColumnReverse="column-reverse",t.Row="row",t.RowReverse="row-reverse"}(f||(f={})),function(t){t.Nowrap="nowrap",t.Wrap="wrap",t.WrapReverse="wrap-reverse"}(p||(p={})),function(t){t.FlexStart="flex-start",t.FlexEnd="flex-end",t.Center="center",t.SpaceBetween="space-between",t.SpaceAround="space-around"}(d||(d={}));var v=o(5072),g=o.n(v),h=o(7825),b=o.n(h),S=o(7659),x=o.n(S),A=o(4868),w=o.n(A),O=o(540),E=o.n(O),j=o(1113),C=o.n(j),D=o(8544),I={attributes:{title:"less"}};I.styleTagTransform=C(),I.setAttributes=w(),I.insert=x().bind(null,"head"),I.domAPI=b(),I.insertStyleElement=E(),g()(D.A,I);const L=D.A&&D.A.locals?D.A.locals:void 0;function T(t){return T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},T(t)}var G=function(){return G=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},G.apply(this,arguments)},N="_itemKey";const M=function(t){var e=t.data,n=t.inputs,o=t.slots,a=t.env,i=t.outputs,s=e.layout,p=e.grid,d=e.useLoading,m=e.useGetDataSource,v=e.layoutType,g=e.flexStyle,h=e.flexAlign,b=(0,r.useState)(function(t,e,r){if(r||2===arguments.length)for(var n,o=0,a=e.length;o<a;o++)!n&&o in e||(n||(n=Array.prototype.slice.call(e,0,o)),n[o]=e[o]);return t.concat(n||Array.prototype.slice.call(e))}([],e.dataSource||[],!0)),S=b[0],x=b[1],A=(0,r.useState)(!1),w=A[0],O=A[1];(0,r.useEffect)((function(){a.edit&&x([{id:1}]),a.runtime&&(n[c.DATA_SOURCE]((function(t){if(Array.isArray(t)){var r=t.map((function(t,e){var r;return(r={item:t})[N]=function(t,e){void 0===t&&(t="u_"),void 0===e&&(e=6);for(var r="",n=0;n<e;n++)r+="abcdefhijkmnprstwxyz0123456789".charAt(Math.floor(30*Math.random()));return t+r}(),r.index=e,r}));e.dataSource=r,x(r)}O(!1)})),d&&n[c.LOADING]&&n[c.LOADING]((function(t){O(!1!==t)})))}),[]),(0,r.useEffect)((function(){a.runtime&&m&&n[c.GetDataSource]&&n[c.GetDataSource]((function(t,e){((null==e?void 0:e[c.GetDataSource])||i[c.GetDataSource])(S.map((function(t){var e=N,r=(t[e],function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(r[n[o]]=t[n[o]])}return r}(t,["symbol"===T(e)?e:e+""]));return G({},r)})))}))}),[S]);var E=function(){return r.default.createElement("div",{style:G({display:"flex"},(null==g?void 0:g.flexDirection)===f.Column?G(G({},g),{alignItems:h}):G(G({},g),{justifyContent:h}))},S.map((function(t){var e=t[N],n=t.index,a=t.item;return r.default.createElement("div",{key:e},o.item.render({inputValues:{itemData:a,index:n},key:e}))})))};if(0===o.item.size)return o.item.render();if(v===l.Flex)return w?r.default.createElement(u.Spin,{spinning:w,wrapperClassName:L.loading},r.default.createElement(E,null)):r.default.createElement(E,null);var j=Array.isArray(p.gutter)?p.gutter:[p.gutter,16];return r.default.createElement(u.List,{loading:w,itemLayout:s,grid:G(G({},p),{gutter:j}),dataSource:S,renderItem:function(t){var e=t[N],n=t.index,a=t.item;return r.default.createElement(u.List.Item,{key:e},o.item.render({inputValues:{itemData:a,index:n},key:e}))},rowKey:N,className:y()(L.listWrap,0===S.length&&a.runtime&&!w&&L.hideEmpty)})}})();var i=a.A;export{i as default};