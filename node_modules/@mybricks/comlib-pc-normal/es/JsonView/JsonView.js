import*as e from"@ant-design/icons";import*as t from"antd";import*as o from"react";var n={4044:(e,t,o)=>{var n=o(4037),r={"text/plain":"Text","text/html":"Url",default:"Text"};e.exports=function(e,t){var o,a,c,s,l,i,u=!1;t||(t={}),o=t.debug||!1;try{if(c=n(),s=document.createRange(),l=document.getSelection(),(i=document.createElement("span")).textContent=e,i.ariaHidden="true",i.style.all="unset",i.style.position="fixed",i.style.top=0,i.style.clip="rect(0, 0, 0, 0)",i.style.whiteSpace="pre",i.style.webkitUserSelect="text",i.style.MozUserSelect="text",i.style.msUserSelect="text",i.style.userSelect="text",i.addEventListener("copy",(function(n){if(n.stopPropagation(),t.format)if(n.preventDefault(),void 0===n.clipboardData){o&&console.warn("unable to use e.clipboardData"),o&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var a=r[t.format]||r.default;window.clipboardData.setData(a,e)}else n.clipboardData.clearData(),n.clipboardData.setData(t.format,e);t.onCopy&&(n.preventDefault(),t.onCopy(n.clipboardData))})),document.body.appendChild(i),s.selectNodeContents(i),l.addRange(s),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");u=!0}catch(n){o&&console.error("unable to copy using execCommand: ",n),o&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),u=!0}catch(n){o&&console.error("unable to copy using clipboardData: ",n),o&&console.error("falling back to prompt"),a=function(e){var t=(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}("message"in t?t.message:"Copy to clipboard: #{key}, Enter"),window.prompt(a,e)}}finally{l&&("function"==typeof l.removeRange?l.removeRange(s):l.removeAllRanges()),i&&document.body.removeChild(i),c()}return u}},4037:e=>{e.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,o=[],n=0;n<e.rangeCount;n++)o.push(e.getRangeAt(n));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||o.forEach((function(t){e.addRange(t)})),t&&t.focus()}}},4988:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var o="",n=void 0!==t[5];return t[4]&&(o+="@supports (".concat(t[4],") {")),t[2]&&(o+="@media ".concat(t[2]," {")),n&&(o+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),o+=e(t),n&&(o+="}"),t[2]&&(o+="}"),t[4]&&(o+="}"),o})).join("")},t.i=function(e,o,n,r,a){"string"==typeof e&&(e=[[null,e,void 0]]);var c={};if(n)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(c[l]=!0)}for(var i=0;i<e.length;i++){var u=[].concat(e[i]);n&&c[u[0]]||(void 0!==a&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=a),o&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=o):u[2]=o),r&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=r):u[4]="".concat(r)),t.push(u))}},t}},8371:e=>{e.exports=function(e){return e[1]}},5003:(e,t,o)=>{o.d(t,{A:()=>s});var n=o(8371),r=o.n(n),a=o(4988),c=o.n(a)()(r());c.push([e.id,".root-f4d54 .titleWrapper-baa46 .count-b95d1 {\n  color: #a59f85;\n  font-style: italic;\n  font-family: monospace;\n  margin: 0px 0px 0px 6px;\n  cursor: default;\n}\n.root-f4d54 .ant-tree-switcher {\n  background-color: transparent;\n}\n.root-f4d54 .ant-tree-node-content-wrapper:hover {\n  background-color: var(--json--view--node-hover-bgcolor, '#f5f5f5');\n}\n",""]),c.locals={root:"root-f4d54",titleWrapper:"titleWrapper-baa46",count:"count-b95d1"};const s=c},5072:e=>{var t=[];function o(e){for(var o=-1,n=0;n<t.length;n++)if(t[n].identifier===e){o=n;break}return o}function n(e,n){for(var a={},c=[],s=0;s<e.length;s++){var l=e[s],i=n.base?l[0]+n.base:l[0],u=a[i]||0,d="".concat(i," ").concat(u);a[i]=u+1;var p=o(d),f={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==p)t[p].references++,t[p].updater(f);else{var v=r(f,n);n.byIndex=s,t.splice(s,0,{identifier:d,updater:v,references:1})}c.push(d)}return c}function r(e,t){var o=t.domAPI(t);return o.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;o.update(e=t)}else o.remove()}}e.exports=function(e,r){var a=n(e=e||[],r=r||{});return function(e){e=e||[];for(var c=0;c<a.length;c++){var s=o(a[c]);t[s].references--}for(var l=n(e,r),i=0;i<a.length;i++){var u=o(a[i]);0===t[u].references&&(t[u].updater(),t.splice(u,1))}a=l}}},7659:e=>{var t={};e.exports=function(e,o){var n=function(e){if(void 0===t[e]){var o=document.querySelector(e);if(window.HTMLIFrameElement&&o instanceof window.HTMLIFrameElement)try{o=o.contentDocument.head}catch(e){o=null}t[e]=o}return t[e]}(e);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(o)}},540:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},4868:e=>{e.exports=function(e,t){Object.keys(t).forEach((function(o){e.setAttribute(o,t[o])}))}},7825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(o){!function(e,t,o){var n="";o.supports&&(n+="@supports (".concat(o.supports,") {")),o.media&&(n+="@media ".concat(o.media," {"));var r=void 0!==o.layer;r&&(n+="@layer".concat(o.layer.length>0?" ".concat(o.layer):""," {")),n+=o.css,r&&(n+="}"),o.media&&(n+="}"),o.supports&&(n+="}");var a=o.sourceMap;a&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),t.styleTagTransform(n,e,t.options)}(t,e,o)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},1113:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},r={};function a(e){var t=r[e];if(void 0!==t)return t.exports;var o=r[e]={id:e,exports:{}};return n[e](o,o.exports,a),o.exports}a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var o in t)a.o(t,o)&&!a.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var c={};(()=>{a.d(c,{A:()=>M});const n=(r={DownOutlined:()=>e.DownOutlined},s={},a.d(s,r),s);var r,s;const l=(e=>{var t={};return a.d(t,e),t})({Alert:()=>t.Alert,Tooltip:()=>t.Tooltip,Tree:()=>t.Tree,message:()=>t.message}),i=(e=>{var t={};return a.d(t,e),t})({default:()=>o.default,useEffect:()=>o.useEffect,useMemo:()=>o.useMemo,useState:()=>o.useState});var u,d=a(4044),p=a.n(d),f={OBJECT:"[object Object]",ARRAY:"[object Array]",STRING:"[object String]",NUMBER:"[object Number]",FORMDATA:"[object FormData]",NULL:"[object Null]",UNDEFINED:"[object Undefined]",BOOLEAN:"[object Boolean]",FUNCTION:"[object Function]"};function v(e,t){void 0===e&&(e="u_"),void 0===t&&(t=6);for(var o="",n=0;n<t;n++)o+="abcdefhijkmnprstwxyz0123456789".charAt(Math.floor(30*Math.random()));return e+o}function m(e,t){if(Array.isArray(t)){for(var o=!1,n=0;n<t.length;n++)if(m(e,t[n])){o=!0;break}return o}var r=/^\[.*\]$/.test(t)?t:f[t.toUpperCase()];return Object.prototype.toString.call(e)===r}!function(e){e.Key="key",e.Number="number",e.Bracket="bracket",e.String="string",e.Object="object",e.Boolean="boolean",e.Null="null",e.Undefined="undefined",e.Function="function",e.BackgroundColor="backgroundColor",e.NodeHoverBackgroundColor="nodeHoverBackgroundColor"}(u||(u={}));var y={SetJsonData:"jsonData",GetJsonData:"getJsonData",SetExpandDepth:"setExpandDepth"},b={Select:"nodeData",JsonData:"jsonData"},g={default:[],array:[],object:{}},h=a(5072),j=a.n(h),C=a(7825),D=a.n(C),x=a(7659),E=a.n(x),w=a(4868),S=a.n(w),A=a(540),O=a.n(A),k=a(1113),N=a.n(k),T=a(5003),R={attributes:{title:"less"}};R.styleTagTransform=N(),R.setAttributes=S(),R.insert=E().bind(null,"head"),R.domAPI=D(),R.insertStyleElement=O(),j()(T.A,R);const J=T.A&&T.A.locals?T.A.locals:void 0;var B=function(){return B=Object.assign||function(e){for(var t,o=1,n=arguments.length;o<n;o++)for(var r in t=arguments[o])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},B.apply(this,arguments)};function M(e){var t=e.env,o=e.data,r=e.inputs,a=e.outputs,c=e.title,s=e.logger,d=o.colors,f=o.collapseStringsAfterLength,h=o.displayObjectSize,j=o.enableClipboard,C=o.copyValueWithLabel,D=o.enableOutput,x=(0,i.useState)(!1),E=x[0],w=x[1];(0,i.useEffect)((function(){var e,n,a;t.runtime&&(null===(e=r[y.SetJsonData])||void 0===e||e.call(r,(function(e,t){"string"==typeof e?(o.json=encodeURIComponent(e),t.setJsonDataDone(o.json)):m(e,["ARRAY","OBJECT"])?(o.json=e,t.setJsonDataDone(o.json)):console.error("".concat(c,":输入的JSON数据不合法"))})),null===(n=r[y.GetJsonData])||void 0===n||n.call(r,(function(e,t){t[b.JsonData](o.jsonObj)})),null===(a=r[y.SetExpandDepth])||void 0===a||a.call(r,(function(e,t){"number"==typeof e&&e>-2?(o.collapsed=e,t.setExpandDepthDone(o.collapsed)):s.warn("json展示[设置展开深度]: 请输入≥-1的数字")})))}),[]),(0,i.useEffect)((function(){if("string"==typeof o.json)try{o.jsonObj=JSON.parse(decodeURIComponent(o.json)),w(!1)}catch(e){w(!0),console.warn("".concat(c,":输入的JSON数据不合法")),o.jsonObj=g[o.dataSourceType]}else o.json&&m(o.json,["ARRAY","OBJECT"])?o.jsonObj=o.json:(o.jsonObj=g[o.dataSourceType],w(!1))}),[o.json]);var S=(0,i.useMemo)((function(){return v()}),[]),A=new Map,O=[];(j||D)&&A.set(S,o.jsonObj),0!==o.collapsed&&O.push(S);var k=function(e){var t=e.key,o=e.value,n={color:d.key},r={color:d["string"==typeof o?"string":"number"],wordBreak:"break-all"},a=o,c=null==o?void 0:o.length;m(o,"ARRAY")&&(r.color=d.bracket,a=0===c?"[]":"[...]"),m(o,"OBJECT")&&(r.color=d.bracket,a=0===(c=Object.keys(o).length)?"{}":"{...}");var s=h&&o!==a,u=0!==f&&a===o&&c>f;u&&(a=a.substring(0,f)+"...");var p=i.default.createElement("span",{key:v(),style:r},"string"==typeof o?' "'.concat(a,'"'):" ".concat(a));return i.default.createElement("div",{className:J.titleWrapper},i.default.createElement("span",{key:v(),style:n},t!==S&&t),t!==S&&":",u?i.default.createElement(l.Tooltip,{title:o},p):p,s&&i.default.createElement("span",{className:J.count},"".concat(c," ").concat(c>1?"items":"item")))},N=(0,i.useMemo)((function(){return{backgroundColor:o.colors[u.BackgroundColor],"--json--view--node-hover-bgcolor":o.colors[u.NodeHoverBackgroundColor]}}),[o.colors[u.NodeHoverBackgroundColor],o.colors[u.BackgroundColor]]),T=[{title:k({key:S,value:o.jsonObj}),key:S,children:function e(t,n){var r=[];for(var a in t){var c=t[a],s=v(),l={title:k({key:a,value:c}),key:s,label:a,children:null};m(c,["ARRAY","OBJECT"])&&(l.children=e(c,n+1),(-1===o.collapsed||n<o.collapsed)&&O.push(s)),r.push(l),(j||D)&&A.set(s,c)}return r}(o.jsonObj,1)}];if(E&&t.edit)return i.default.createElement(l.Alert,{message:"".concat(c,":输入的JSON数据不合法"),type:"error"});var R=t.edit?{expandedKeys:O}:{};return i.default.createElement(l.Tree,B({treeData:T,rootStyle:N,className:J.root,showLine:{showLeafIcon:!1},switcherIcon:i.default.createElement(n.DownOutlined,null),defaultExpandedKeys:O},R,{key:O.toString(),onSelect:function(e,t){var n,r=t.node,c=A.get(r.key);if(j)try{var s=C&&void 0!==r.label?JSON.stringify(((n={})[r.label]=c,n)):"string"!=typeof c||o.copyStringWithQuotation?JSON.stringify(c):c;p()(s),l.message.success("节点数据已成功复制到剪贴板")}catch(e){l.message.error("复制失败"),console.error("复制失败",e)}D&&a[b.Select]&&a[b.Select](c)}}))}})();var s=c.A;export{s as default};