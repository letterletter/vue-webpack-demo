var o={d:(t,e)=>{for(var n in e)o.o(e,n)&&!o.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},o:(o,t)=>Object.prototype.hasOwnProperty.call(o,t)},t={};function e(o){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},e(o)}function n(o){var t=o.env,e=o.data,n=o.outputs,r=(o.logger,e.wsUrl);try{if(r){var u=new WebSocket(r);u.onopen=function(o){var e;n.onconnect("连接成功"),"function"==typeof(null===(e=null==t?void 0:t.runtime)||void 0===e?void 0:e.onComplete)&&t.runtime.onComplete((function(){null==u||u.close()}))},u.onmessage=function(o){n.onmessage(o.data)},u.onclose=function(o){n.onClose(o)},u.onerror=function(o){n.onerror("发生错误",null==o?void 0:o.data)}}else n.onerror("没有设置websocket地址")}catch(o){console.error("websocket组件运行错误.",o),n.onerror("websocket创建失败，请检查地址是否正确")}}function r(o){var t=o.env,r=o.data,u=o.inputs,a=o.outputs,l=o.logger;t.runtime&&(r.immediate?n({env:t,data:r,outputs:a,logger:l}):u.call((function(o){!function(o){var t=o.data;n({env:o.env,data:t,outputs:o.outputs,logger:o.logger},t.wsUrl)}({env:t,data:r,logger:l,params:"object"===e(o)?o:{},outputs:a})})))}o.d(t,{A:()=>r});var u=t.A;export{u as default};