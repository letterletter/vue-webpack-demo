import*as e from"react";import*as t from"antd";import*as n from"@ant-design/icons";var a={4988:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",a=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),a&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),a&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,a,r,o){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(a)for(var c=0;c<this.length;c++){var s=this[c][0];null!=s&&(i[s]=!0)}for(var l=0;l<e.length;l++){var u=[].concat(e[l]);a&&i[u[0]]||(void 0!==o&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=o),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),r&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=r):u[4]="".concat(r)),t.push(u))}},t}},8371:e=>{e.exports=function(e){return e[1]}},1606:(e,t,n)=>{n.d(t,{A:()=>c});var a=n(8371),r=n.n(a),o=n(4988),i=n.n(o)()(r());i.push([e.id,".wrap-b9839 .ant-tag {\n  margin: 0;\n}\n.wrap-b9839 .ant-tag-close-icon {\n  color: inherit;\n  opacity: 0.6;\n}\n.wrap-b9839 .small-tag-a8f24 {\n  line-height: 20px;\n  padding: 0 7px;\n  font-size: 12px;\n}\n.wrap-b9839 .middle-tag-dc65f {\n  line-height: 24px;\n  padding: 1px 10px;\n  font-size: 14px;\n}\n.wrap-b9839 .large-tag-a3451 {\n  line-height: 28px;\n  padding: 2px 14px;\n  font-size: 16px;\n}\n.wrap-b9839 .appendBtn-a9db6 {\n  border-style: dashed;\n  cursor: pointer;\n}\n.tag-cc6c4 {\n  display: flex !important;\n  align-items: center;\n}\n",""]),i.locals={wrap:"wrap-b9839","small-tag":"small-tag-a8f24","middle-tag":"middle-tag-dc65f","large-tag":"large-tag-a3451",appendBtn:"appendBtn-a9db6",tag:"tag-cc6c4"};const c=i},5072:e=>{var t=[];function n(e){for(var n=-1,a=0;a<t.length;a++)if(t[a].identifier===e){n=a;break}return n}function a(e,a){for(var o={},i=[],c=0;c<e.length;c++){var s=e[c],l=a.base?s[0]+a.base:s[0],u=o[l]||0,d="".concat(l," ").concat(u);o[l]=u+1;var p=n(d),f={css:s[1],media:s[2],sourceMap:s[3],supports:s[4],layer:s[5]};if(-1!==p)t[p].references++,t[p].updater(f);else{var g=r(f,a);a.byIndex=c,t.splice(c,0,{identifier:d,updater:g,references:1})}i.push(d)}return i}function r(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,r){var o=a(e=e||[],r=r||{});return function(e){e=e||[];for(var i=0;i<o.length;i++){var c=n(o[i]);t[c].references--}for(var s=a(e,r),l=0;l<o.length;l++){var u=n(o[l]);0===t[u].references&&(t[u].updater(),t.splice(u,1))}o=s}}},7659:e=>{var t={};e.exports=function(e,n){var a=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(n)}},540:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},4868:e=>{e.exports=function(e,t){Object.keys(t).forEach((function(n){e.setAttribute(n,t[n])}))}},7825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var a="";n.supports&&(a+="@supports (".concat(n.supports,") {")),n.media&&(a+="@media ".concat(n.media," {"));var r=void 0!==n.layer;r&&(a+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),a+=n.css,r&&(a+="}"),n.media&&(a+="}"),n.supports&&(a+="}");var o=n.sourceMap;o&&"undefined"!=typeof btoa&&(a+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleTagTransform(a,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},1113:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},r={};function o(e){var t=r[e];if(void 0!==t)return t.exports;var n=r[e]={id:e,exports:{}};return a[e](n,n.exports,o),n.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var i={};(()=>{o.d(i,{A:()=>C});const a=(r={default:()=>e.default,useEffect:()=>e.useEffect,useMemo:()=>e.useMemo,useRef:()=>e.useRef,useState:()=>e.useState},c={},o.d(c,r),c);var r,c;const s=(e=>{var t={};return o.d(t,e),t})({Input:()=>t.Input,Space:()=>t.Space,Tag:()=>t.Tag,message:()=>t.message}),l=n;function u(e,t){void 0===e&&(e="u_"),void 0===t&&(t=6);for(var n="",a=0;a<t;a++)n+="abcdefhijkmnprstwxyz0123456789".charAt(Math.floor(30*Math.random()));return e+n}var d=o(5072),p=o.n(d),f=o(7825),g=o.n(f),v=o(7659),m=o.n(v),h=o(4868),y=o.n(h),x=o(540),b=o.n(x),w=o(1113),E=o.n(w),T=o(1606),k={attributes:{title:"less"}};k.styleTagTransform=E(),k.setAttributes=y(),k.insert=m().bind(null,"head"),k.domAPI=g(),k.insertStyleElement=b(),p()(T.A,k);const A=T.A&&T.A.locals?T.A.locals:void 0;var S=function(){return S=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},S.apply(this,arguments)};function C(e){var t=e.env,n=e.data,r=e.inputs,o=e.outputs,i=(e.slots,n.checkable);return r.dynamicTags&&r.dynamicTags((function(e,t){Array.isArray(e)?(n.tags=e.map((function(e){var t;return e.key||(e.key=u()),e.color||(e.color=null!==(t=n.type)&&void 0!==t?t:"default"),e})),t.dynamicComplete()):s.message.error("请输入列表数据")})),r.getTags&&r.getTags((function(e,t){t.outputTags(n.tags)})),i?a.default.createElement(O,{data:n,outputs:o,env:t}):a.default.createElement(z,{data:n,outputs:o,env:t})}var M=function(e){var t;return{display:"block",wordBreak:"break-all",whiteSpace:e.isEllipsis?"nowrap":"pre-wrap",maxWidth:e.isEllipsis?(null===(t=null==e?void 0:e.ellipsis)||void 0===t?void 0:t.maxWidth)+"px":void 0,overflow:"hidden",textOverflow:e.isEllipsis?"ellipsis":void 0}},z=function(e){var t=e.data,n=e.outputs,r=e.env,o=t.direction,i=t.align,c=t.wrap,d=t.size,p=t.tags,f=t.tagSize,g=t.appendAble,v=t.closeAble,m=t.useAppendBtn,h=t.appendBtn,y=void 0===h?{text:"新增",icon:"PlusOutlined"}:h,x=(0,a.useState)(!1),b=x[0],w=x[1],E=(0,a.useRef)(null),T=function(){r.edit||w(!0)};(0,a.useEffect)((function(){var e;b&&(null===(e=E.current)||void 0===e||e.focus())}),[b]);var k=function(e){var a,r=e.target.value;if(r){if(p.find((function(e){return e.content===r})))return void s.message.warn("标签已存在");var o=(void 0===(a=r)&&(a="新标签"),{key:u(),content:a,color:"default"});t.tags.push(o),n.onChange({changed:S(S({},o),{index:t.tags.length}),allTag:t.tags})}w(!1)},C=(0,a.useMemo)((function(){var e;return g?b?a.default.createElement(s.Input,{ref:E,type:"text",size:"small",style:{width:80},onBlur:k,onPressEnter:k}):m?a.default.createElement(s.Tag,{"data-item-tag":"append",color:"default",key:"tag-append",icon:l&&(null===(e=l[y.icon])||void 0===e?void 0:e.render()),className:A.appendBtn,onClick:T},y.text):null:null}),[m,g,b,JSON.stringify(y)]);return a.default.createElement(s.Space,{"data-root":"root",className:A.wrap,direction:o,align:i,wrap:c,size:d},p.map((function(e,o){var i,c=e.key,u=e.content,d=e.color,p=e.icon;return a.default.createElement(s.Tag,{key:c,className:"".concat(A[f]," ").concat(A.tag),"data-index":o,"data-item-tag":"tag",color:d,closable:v,onClose:function(){return function(e,a){r.edit||(t.tags.splice(e,1),n.onChange({changed:S(S({},a),{index:e}),allTag:t.tags}))}(o,e)},icon:l&&(null===(i=l[p])||void 0===i?void 0:i.render())},a.default.createElement("span",{style:M(t)},r.i18n(u)))})),C)},O=function(e){var t=e.data,n=e.outputs,r=e.env,o=t.direction,i=t.align,c=t.wrap,l=t.size,u=t.tags,d=t.tagSize;return a.default.createElement(s.Space,{"data-root":"root",className:A.wrap,direction:o,align:i,wrap:c,size:l},u.map((function(e,o){var i=e.key,c=e.checked,l=e.content;return a.default.createElement(s.Tag.CheckableTag,{key:i,className:"".concat(A[d]," ").concat(A.tag),"data-index":o,"data-item-tag":"tag",checked:c,onChange:function(){return function(e){var a=t.tags[e];t.tags[e]=S(S({},a),{checked:!a.checked}),n.onCheck({changed:S(S({},t.tags[e]),{index:e}),allTag:t.tags})}(o)}},a.default.createElement("span",{style:M(t)},r.i18n(l)))})))}})();var c=i.A;export{c as default};