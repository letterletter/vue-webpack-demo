import*as e from"react";import*as t from"antd";import*as n from"@ant-design/icons";var o={4988:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",o=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),o&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),o&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,o,a,r){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(o)for(var c=0;c<this.length;c++){var l=this[c][0];null!=l&&(i[l]=!0)}for(var s=0;s<e.length;s++){var d=[].concat(e[s]);o&&i[d[0]]||(void 0!==r&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=r),n&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=n):d[2]=n),a&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=a):d[4]="".concat(a)),t.push(d))}},t}},8371:e=>{e.exports=function(e){return e[1]}},9109:(e,t,n)=>{n.d(t,{A:()=>c});var o=n(8371),a=n.n(o),r=n(4988),i=n.n(r)()(a());i.push([e.id,".container-abd78 .ant-modal-close {\n  position: absolute !important;\n}\n.container-abd78 .ant-modal-title {\n  margin-right: 30px;\n}\n.container-abd78 .ant-modal-header {\n  padding: 16px 24px;\n  border-bottom: 1px solid #f0f0f0;\n}\n.container-abd78 .ant-modal-body {\n  padding: 24px;\n  overflow: auto;\n}\n.container-abd78 .ant-modal-footer {\n  padding: 10px 16px;\n  border-top: 1px solid #f0f0f0;\n}\n.container-abd78 .ant-modal-footer .toolbar {\n  display: flex;\n  align-items: center;\n  flex-direction: row;\n  flex-flow: row wrap;\n}\n.customFooter-a9b04 {\n  display: flex;\n  justify-content: flex-end;\n}\n.customFooter-a9b04 button {\n  margin-left: 8px;\n}\n",""]),i.locals={container:"container-abd78",customFooter:"customFooter-a9b04"};const c=i},5072:e=>{var t=[];function n(e){for(var n=-1,o=0;o<t.length;o++)if(t[o].identifier===e){n=o;break}return n}function o(e,o){for(var r={},i=[],c=0;c<e.length;c++){var l=e[c],s=o.base?l[0]+o.base:l[0],d=r[s]||0,u="".concat(s," ").concat(d);r[s]=d+1;var f=n(u),p={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==f)t[f].references++,t[f].updater(p);else{var v=a(p,o);o.byIndex=c,t.splice(c,0,{identifier:u,updater:v,references:1})}i.push(u)}return i}function a(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,a){var r=o(e=e||[],a=a||{});return function(e){e=e||[];for(var i=0;i<r.length;i++){var c=n(r[i]);t[c].references--}for(var l=o(e,a),s=0;s<r.length;s++){var d=n(r[s]);0===t[d].references&&(t[d].updater(),t.splice(d,1))}r=l}}},7659:e=>{var t={};e.exports=function(e,n){var o=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(n)}},540:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},4868:e=>{e.exports=function(e,t){Object.keys(t).forEach((function(n){e.setAttribute(n,t[n])}))}},7825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var o="";n.supports&&(o+="@supports (".concat(n.supports,") {")),n.media&&(o+="@media ".concat(n.media," {"));var a=void 0!==n.layer;a&&(o+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),o+=n.css,a&&(o+="}"),n.media&&(o+="}"),n.supports&&(o+="}");var r=n.sourceMap;r&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),t.styleTagTransform(o,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},1113:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},a={};function r(e){var t=a[e];if(void 0!==t)return t.exports;var n=a[e]={id:e,exports:{}};return o[e](n,n.exports,r),n.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var i={};(()=>{r.d(i,{A:()=>M});const o=(a={default:()=>e.default,useCallback:()=>e.useCallback,useEffect:()=>e.useEffect,useRef:()=>e.useRef,useState:()=>e.useState},c={},r.d(c,a),c);var a,c;const l=(e=>{var t={};return r.d(t,e),t})({Button:()=>t.Button,Modal:()=>t.Modal}),s=n;var d,u;!function(e){e[e.NONE=0]="NONE",e[e.BUTTONS=1]="BUTTONS",e[e.SLOT=2]="SLOT"}(d||(d={})),function(e){e.FRONT="front",e.BACK="back"}(u||(u={}));var f,p={Open:"open",Close:"close",SetTitle:"title",HideFooter:"hideFooter",ShowFooter:"showFooter",ShowTitle:"showTitle",HideTitle:"hideTitle"},v={Cancel:"cancel",AfterClose:"afterClose"},m={Footer:"footer",Container:"container"},b={DataSource:"dataSource"};!function(e){e.Unset="unset",e.FlexStart="flex-start",e.Center="center",e.FlexEnd="flex-end"}(f||(f={}));var h=r(5072),y=r.n(h),g=r(7825),C=r.n(g),x=r(7659),T=r.n(x),S=r(4868),w=r.n(S),E=r(540),O=r.n(E),F=r(1113),A=r.n(F),N=r(9109),k={attributes:{title:"less"}};k.styleTagTransform=A(),k.setAttributes=w(),k.insert=T().bind(null,"head"),k.domAPI=C(),k.insertStyleElement=O(),y()(N.A,k);const B=N.A&&N.A.locals?N.A.locals:void 0;var j=function(){return j=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},j.apply(this,arguments)};function M(e){var t=e.env,n=e.data,a=e.style,r=e.slots,i=e.inputs,c=e.outputs,l=e.logger,s=e.createPortal,d=(0,o.useRef)(),u=(0,o.useState)("none"!==a.display),f=u[0],h=u[1],y=(0,o.useState)(),g=(y[0],y[1]),C=t.edit,x=t.runtime,T=!(!x||!x.debug);(0,o.useEffect)((function(){t.runtime&&i&&(i[p.Open]((function(e,t){g(e),r[m.Container].inputs[b.DataSource](e),h(!0),(n.footerBtns||[]).forEach((function(e){var n=e.id,o=e.visible,a=e.isConnected,i=e.autoClose;!1!==o&&r[m.Container]&&r[m.Container].outputs[n]&&r[m.Container].outputs[n]((function(o){e.loading=!1,a&&!1!==i&&S(),t[n](o)}))}))})),i[p.SetTitle]((function(e){"string"!=typeof e?l.error("title 必须为string类型"):n.title=e})),i[p.HideFooter]((function(){n.useFooter=!1})),i[p.ShowFooter]((function(){n.useFooter=!0})),i[p.ShowTitle]((function(){n.hideTitle=!1})),i[p.HideTitle]((function(){n.hideTitle=!0})),i[p.Close]((function(){f&&S()})),(n.footerBtns||[]).forEach((function(e){e.dynamicDisabled&&(i["disable".concat(e.id)]((function(){e.disabled=!0})),i["enable".concat(e.id)]((function(){e.disabled=!1}))),e.dynamicHidden&&(i["hidden".concat(e.id)]((function(){e.hidden=!0})),i["show".concat(e.id)]((function(){e.hidden=!1}))),e.useBtnLoading&&i["stopLoading".concat(e.id)]((function(){e.loading=!1}))})))}),[f]);var S=(0,o.useCallback)((function(){h(!1),c[v.AfterClose]()}),[]),w=(0,o.useCallback)((function(){S()}),[]),E={};return(n.footerBtns||[]).forEach((function(e){var t=e.id,n=e.isConnected;E[t]=function(){c["".concat(t,"Click")](),n?e.loading=!0:!1!==e.autoClose&&S()}})),C?s(o.default.createElement("div",{className:B.container,ref:d},o.default.createElement(L,{cfg:j(j({},n),{bodyStyle:j(j({},n.bodyStyle),{height:r.container.size?void 0:"100px"})}),visible:!0,slots:r,getContainer:function(){if(d)return d.current},env:t}))):T?s(o.default.createElement("div",{className:B.container,ref:d},o.default.createElement(L,{cfg:n,visible:f,slots:r,event:j(j({},E),{cancel:w}),getContainer:function(){if(d)return d.current},env:t}))):x?o.default.createElement("div",{className:B.container},o.default.createElement(L,{cfg:n,visible:f,slots:r,event:j(j({},E),{cancel:w}),env:t})):void 0}var L=function(e){var t=e.cfg,n=e.slots,a=e.event,r=e.visible,i=e.getContainer,c=e.env,d=t.bodyStyle,p=t.hideTitle,v=t.title,b=t.okText,h=t.closable,y=t.centered,g=t.useFooter,C=t.cancelText,x=t.maskClosable,T=t.width,S=t.footerBtns,w=t.footerLayout;return o.default.createElement(l.Modal,{visible:r,width:T,keyboard:!1,maskClosable:x,title:p?void 0:c.i18n(v),okText:c.i18n(b),closable:h,centered:y,cancelText:c.i18n(C),wrapClassName:B.container,footer:g?o.default.createElement("div",{className:"toolbar",style:{justifyContent:w||f.FlexEnd}},(S||[]).map((function(e){var t,n=e.title,r=e.id,i=e.showText,d=e.icon,f=e.useIcon,p=e.visible,v=void 0===p||p,m=(e.dynamicDisabled,e.dynamicHidden,e.location),b=e.hidden,h=e.disabled,y=(e.isConnected,e.loading),g=e.useBtnLoading,C=(e.autoClose,function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(o=Object.getOwnPropertySymbols(e);a<o.length;a++)t.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(n[o[a]]=e[o[a]])}return n}(e,["title","id","showText","icon","useIcon","visible","dynamicDisabled","dynamicHidden","location","hidden","disabled","isConnected","loading","useBtnLoading","autoClose"])),x=f&&s&&(null===(t=s[d])||void 0===t?void 0:t.render());return o.default.createElement(l.Button,j({},C,{hidden:!v||b,disabled:h,onClick:null==a?void 0:a[r],"data-btn-id":r,loading:g&&y,key:r}),f&&m!==u.BACK&&x,i&&c.i18n(n),f&&m===u.BACK&&x)}))):null,onCancel:null==a?void 0:a.cancel,bodyStyle:d,getContainer:i},n[m.Container]&&n[m.Container].render())}})();var c=i.A;export{c as default};